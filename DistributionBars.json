{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "repeat": ["revenues", "profits"],
    "title": {
      "text": "Distribution of Revenue and Profits",
      "fontSize": 18,
      "anchor": "middle"
    },
    "columns": 2,
    "params": [
      {
        "name": "year_selection",
        "bind": {
          "input": "select",
          "options": [null, "2019", "2020", "2021"],
          "labels": ["2019-2021", "2019", "2020", "2021"],
          "name": "Select Year: "
        }
      }
    ],
   "transform": [
      {"filter": "year_selection==null || year_selection == datum.year"}],
    "spec": {
      "data": {"url": "https://raw.githubusercontent.com/joeechua/W9_HW/main/fortune_500_USA.csv"},
      "mark": "bar",
      "encoding": {
        "x": {"field": {"repeat": "repeat"}, "bin": {"maxbins": 25}},
        "y": {"aggregate": "count"},
        "color": {"value":"#960018"}
      },
      "width":360,
      "height":200
    }
  }
  